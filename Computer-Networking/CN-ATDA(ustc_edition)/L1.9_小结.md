## 1. 计算机网络概述

### 1.1 分组交换与电路交换

| 交换方式                                         | 工作原理                                             | 核心特性                                                                                                                                  | 典型应用                       |
| -------------------------------------------- | ------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------- | -------------------------- |
| **<span style="color:#FF6B6B;">分组交换</span>** | 将完整的数据报文**分割成多个较小的“分组”**，每个分组独立选择路径传输，到达目的地后再重组。 | **优势**：资源共享，线路利用率高，更健壮。  <br>**劣势**：可能产生**<span style="color:#FF6B6B;">延迟</span>**（排队、转发）和**<span style="color:#FF6B6B;">丢包</span>**。 | **现代互联网的核心技术**，如网页浏览、电子邮件。 |
| **<span style="color:#4D96FF;">电路交换</span>** | 通信前需**建立一条专用的端到端物理路径**，通信期间独占该路径的所有资源，结束后释放。     | **优势**：通信质量有保障，延迟稳定可预测。  <br>**劣势**：资源利用率低，建立连接耗时。                                                                                    | **传统电话网络**、早期专线网络。         |

> **初学者理解**：想象**分组交换**像**寄明信片**，你把一封信分成几张明信片，各自投递，可能走不同路线、不同时间到达，最后在收件人那里按序号拼起来。而**电路交换**就像**打电话**，通话前需要拨号建立连接，只要不挂断，这条线路就一直是你们的，别人用不了。

### 1.2 互联网是什么？

- **本质定义**：互联网是一个 **<span style="color:#FF6B6B;">“网络的网络”</span>**。它由全球无数个**互联网服务提供商（ISP）** 的网络相互连接而成。
    
- **结构特点**：呈**松散的层次结构**（如 Tier-1、Tier-2、接入ISP），结构复杂且动态变化。
    
- **三大组成要素**：
    
    1. **网络边缘**：所有连接到互联网的**端系统**（如你的电脑、手机、服务器）及其上运行的应用程序。
        
    2. **网络核心**：由大量的**交换设备（路由器、交换机）** 和通信链路构成的网状骨干，负责数据的快速转发。
        
    3. **接入网**：将端系统连接到边缘路由器的物理媒介和技术，如光纤、Wi-Fi、4G/5G。
        

### 1.3 互联网的性能指标

评估一个网络好坏，主要看以下几个关键指标：

1. **<span style="color:#FF6B6B;">分组丢失率</span>**：数据包在网络传输过程中丢失的比例。主要原因是路由器缓存队列已满（溢出）。
    
2. **<span style="color:#FF6B6B;">延迟</span>**：数据从源到目的地所花费的时间。由四部分组成：
    
    - **处理延迟**：路由器检查分组首部、决定其去向所花时间。
        
    - **排队延迟**：分组在路由器输出队列中等待传输的时间。（**最不确定、变化最大**）
        
    - **传输延迟**：$将分组所有比特推上链路所需的时间= 分组长度 / 链路带宽$。
        
    - **传播延迟**：$比特在物理链路中传播所需的时间= 链路长度 / 传播速度$。
        
3. **<span style="color:#FF6B6B;">吞吐量</span>**：单位时间内通过网络实际成功传输的数据量。它受限于路径上**带宽最小的那段链路**（瓶颈链路）。
    

### 1.4 互联网的层次模型（核心思想）

为了管理极度复杂的网络系统，采用 **<span style="color:#FF6B6B;">分层设计</span>** 思想。

- **核心原理**：每一层**只关注本层的功能**，通过调用下层的服务来实现本层目标，并为上层提供**增强后的服务**。
    
- **关键术语**：
    
    - **服务访问点 (SAP)**：相邻层之间交换服务的**接口**。
        
    - **协议数据单元 (PDU)**：**对等层**之间交换的信息单元。每层都会在上一层的数据前加上自己的“头”（封装）。
        
    - **服务原语**：上层调用下层服务的**操作指令**（如：请求、指示、响应、确认）。
        
- **经典五层模型**（从高到低）：
    
    text
    
    应用层 (Application Layer)  →  为应用程序提供网络服务（如HTTP、FTP）。
    传输层 (Transport Layer)   →  提供端到端的通信服务（如TCP、UDP）。
    网络层 (Network Layer)     →  负责寻址和路由，将数据包送到目标网络（如IP）。
    链路层 (Data Link Layer)  →  负责相邻节点间的可靠帧传输（如以太网、Wi-Fi）。
    物理层 (Physical Layer)    →  负责比特流在物理介质上的透明传输（如光信号、电信号）。
    

> **初学者理解**：就像寄快递。**应用层**是你要寄的物品（一本书）；**传输层**把它打包进纸箱，并填好发货单（TCP/UDP端口）；**网络层**写上收件人地址（IP地址）；**链路层**交给某个具体的快递公司（以太网）；**物理层**就是快递卡车和公路。

### 1.5 互联网发展简史

- **起源**：始于美国军方的 **ARPANET**。
    
- **成功关键**：采用了**开放、分层的体系结构**和**标准化的协议（如TCP/IP）**，使得不同网络和设备能轻松互联。
    
- **安全**：网络安全是重要组成部分，后续会有专门章节讲解。
    

---

## 2. 从组成角度看互联网

- **协议**：**控制网络中所有通信行为的规则集合**。定义了通信的**语法**（格式）、**语义**（含义）和**时序**（顺序）。
    
- **服务模式**：
    
    - **面向连接的服务 (TCP)**：通信前先“握手”建立连接，提供可靠、有序的字节流传输。
        
    - **无连接的服务 (UDP)**：无需建立连接，直接发送数据，更快速但不保证可靠。
        

---

## 3. 分组交换网络中的延迟与丢失详解

**延迟是如何产生的？** 以一个分组经过一个路由器为例：

1. 到达路由器 → **处理延迟**（路由器看地址）。
    
2. 进入输出队列等待 → **排队延迟**（前面有包在发）。
    
3. 轮到它被发送时，比特一位位送上链路 → **传输延迟**。
    
4. 比特开始在物理线路上“奔跑”到下一个设备 → **传播延迟**。
    

**丢失是如何发生的？**  
当大量分组同时涌向一个路由器，其缓存队列会满。新到的分组若无处存放，就会被**丢弃**，造成分组丢失。TCP等协议会通过重传来处理丢失。

**分层的术语重温**：理解**SAP（接口）**、**PDU（数据单元）**、**封装与解封装**是理解分层通信的基础。

---

## 4. 实例：科大校园网架构（示例）

- **整体架构**：
    
    - 各校区通过**核心交换机**以高速光纤环路互联。
        
    - 运行**生成树协议（STP）**，在物理环路中**逻辑上阻断冗余链路**，防止广播风暴，同时提供备份能力。
        
    - 服务器群直接接入核心交换机背板，以获得极高带宽。
        
- **接入外部网络**：
    
    - 通过防火墙连接**多个ISP（互联网服务提供商）**，实现负载均衡和链路冗余。
        
    - 同时作为区域网络中心，提供拨号接入、VPN等附加服务。
        

---

## 5. 知识小结与学习地图

|知识点|核心内容 (初学者扩展版)|考试重点 / 易混淆点|
|---|---|---|
|**基础概念**|互联网是“网络的网络”，由**边缘、核心、接入网**构成。核心是**分组交换**，区别于传统电话的电路交换。|理解分组交换是**统计复用**，电路交换是**固定资源分配**。|
|**交换技术**|**分组交换**：资源共享但有延迟/丢失风险。  <br>**电路交换**：独占资源，延迟稳定但效率低。|**分组交换的延迟**是变化的；**电路交换的延迟**主要是建立连接的时间。|
|**互联网层次**|**核心思想是分层**：每层利用下层服务，实现本层功能，服务上层。**协议是对等层的规则**，**服务是上下层的接口**。|严格区分 **<span style="color:#FF6B6B;">“协议”</span>** (水平，对等实体间) 和 **<span style="color:#4D96FF;">“服务”</span>** (垂直，相邻层间)。|
|**网络性能**|**四大延迟**：处理、排队、传输、传播。  <br>**吞吐量**：实际传输速率，受瓶颈链路限制。|**传输延迟 vs 传播延迟**：传输是“推上车”的时间 (与带宽和包长有关)，传播是“车在路上跑”的时间 (与距离和介质有关)。|
|**校园网架构**|核心交换机互联，**STP防环路**，多ISP接入保证可靠性。|**生成树算法**的目的是**逻辑上断开环路**，而非提高所有链路的利用率。冗余链路平时可能处于**阻塞**状态。|
|**历史与演进**|成功源于**开放架构**和**标准协议(TCP/IP)**，松散结构利于扩展。|理解技术选择（如分组交换）与互联网**大规模扩展性**之间的紧密关系。|
|**网络安全**|(后续章节重点) 包含机密性、完整性、可用性等要素，通过加密、认证等协议实现。|此处为预留位置，是独立且重要的章节。|