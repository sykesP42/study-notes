# ç¬¬å…­ç«  è´ªå¿ƒç®—æ³•ï¼ˆäºŒï¼‰â€”â€” ä»æ’åºä¸ç­‰å¼åˆ°æ¨å…¬å¼ï¼Œæ•°å­¦è¯æ˜çš„è‰ºæœ¯


> ğŸ¯Â **ç›®æ ‡**ï¼šå­¦å®Œæœ¬ç« ï¼Œä½ å°†å½»åº•æŒæ¡**æ’åºä¸ç­‰å¼ï¼ˆæ’é˜Ÿæ‰“æ°´ï¼‰**ã€**ç»å¯¹å€¼ä¸ç­‰å¼ï¼ˆè´§ä»“é€‰å€ï¼‰**ä»¥åŠ**æ¨å…¬å¼ï¼ˆè€æ‚æŠ€çš„ç‰›ï¼‰**ä¸‰å¤§ç»å…¸è´ªå¿ƒæ¨¡å‹ï¼Œå¹¶å­¦ä¼šç”¨**åè¯æ³•ã€è°ƒæ•´æ³•**è¯æ˜è´ªå¿ƒç­–ç•¥çš„æ­£ç¡®æ€§ã€‚ä»æ­¤è´ªå¿ƒä¸å†æ˜¯â€œçŒœâ€ï¼Œè€Œæ˜¯â€œè¯â€ã€‚

---

# ğŸ“Œ å¼€ç¯‡ï¼šè´ªå¿ƒç®—æ³•çš„ä¸‰å¤§æ•°å­¦æ”¯æŸ±

ä¸Šä¸€ç« æˆ‘ä»¬å­¦ä¹ äº†**åŒºé—´è´ªå¿ƒ**ï¼ˆåŒºé—´é€‰ç‚¹ã€åˆ†ç»„ã€è¦†ç›–ï¼‰å’Œ**å“ˆå¤«æ›¼æ ‘**ã€‚  
æœ¬ç« çš„ä¸‰ä¸ªé—®é¢˜ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰å¤§æ•°å­¦ä¸ç­‰å¼ï¼š

1. **æ’åºä¸ç­‰å¼**Â â€”â€” æ‰“æ°´é—®é¢˜ï¼š**æ­£åºå’Œ â‰¥ ä¹±åºå’Œ â‰¥ é€†åºå’Œ**ã€‚
    
2. **ç»å¯¹å€¼ä¸ç­‰å¼**Â â€”â€” è´§ä»“é€‰å€ï¼š**ä¸­ä½æ•°ç‚¹ä½¿ç»å¯¹åå·®ä¹‹å’Œæœ€å°**ã€‚
    
3. **æ¨å…¬å¼**Â â€”â€” è€æ‚æŠ€çš„ç‰›ï¼š**é€šè¿‡æ•°å­¦å»ºæ¨¡ç¡®å®šæ’åºå…³é”®å­—**ï¼ˆWáµ¢ + Sáµ¢ï¼‰ã€‚
    

**å®ƒä»¬çš„å…±åŒå¥—è·¯**ï¼š

- å…ˆ**æ’åº**ï¼ˆæŒ‰æŸç§å…³é”®å­—ï¼‰ã€‚
    
- å†**æ‰«æ**è®¡ç®—ç­”æ¡ˆã€‚
    
- æœ€åç”¨**è°ƒæ•´æ³•**è¯æ˜æ’åºè§„åˆ™æ˜¯æœ€ä¼˜çš„ã€‚
    

---

# ç¬¬ä¸€éƒ¨åˆ† Â· æ’åºä¸ç­‰å¼ â€”â€” æ‰“æ°´é—®é¢˜

## ä¸€ã€æ•…äº‹å¼•å…¥ï¼šé“¶è¡ŒæŸœå°æ’é˜Ÿ

ä½ èµ°è¿›é“¶è¡Œï¼Œåªæœ‰ä¸€ä¸ªçª—å£å¼€æ”¾ï¼Œæ’åœ¨ä½ å‰é¢çš„æ¯ä¸ªäººéƒ½æœ‰ä¸€ç¬”ä¸šåŠ¡è¦åŠï¼Œè€—æ—¶ä¸åŒã€‚  
å¦‚æœè®©ä½ å®‰æ’æ‰€æœ‰äººçš„é¡ºåºï¼Œä½ ä¼šè®©**è€—æ—¶çŸ­çš„äººå…ˆåŠ**ï¼Œè¿˜æ˜¯è®©è€—æ—¶é•¿çš„å…ˆåŠï¼Ÿ  
æ˜¾ç„¶æ˜¯**è€—æ—¶çŸ­çš„äººå…ˆåŠ**ï¼Œè¿™æ ·åé¢ç­‰å¾…çš„äººæ›´å°‘ï¼Œæ€»ç­‰å¾…æ—¶é—´æœ€å°ã€‚

**è¿™å°±æ˜¯æ’åºä¸ç­‰å¼åœ¨ç”Ÿæ´»ä¸­çš„ä½“ç°**ã€‚

---

## äºŒã€é—®é¢˜å®šä¹‰

æœ‰ n ä¸ªäººæ’é˜Ÿåˆ° 1 ä¸ªæ°´é¾™å¤´æ‰“æ°´ï¼Œç¬¬ i ä¸ªäººè£…æ»¡æ°´æ¡¶éœ€è¦æ—¶é—´ táµ¢ã€‚  
**ç­‰å¾…æ—¶é—´**å®šä¹‰ä¸ºæ¯ä¸ªäºº**ä»ä»–åˆ°è¾¾ç›´åˆ°ä»–å¼€å§‹æ‰“æ°´çš„æ—¶é—´**ï¼ˆä¸åŒ…æ‹¬ä»–è‡ªå·±çš„æ‰“æ°´æ—¶é—´ï¼‰ã€‚  
æ±‚**æœ€å°çš„æ€»ç­‰å¾…æ—¶é—´**ä¹‹å’Œã€‚

**è¾“å…¥**ï¼šn å’Œ n ä¸ª táµ¢ã€‚  
**è¾“å‡º**ï¼šæœ€å°æ€»ç­‰å¾…æ—¶é—´ã€‚  
**æ•°æ®èŒƒå›´**ï¼šn â‰¤ 10âµ, táµ¢ â‰¤ 10â´ã€‚

---

## ä¸‰ã€è´ªå¿ƒç­–ç•¥ â€”â€” æŒ‰æ‰“æ°´æ—¶é—´å‡åºæ’åº

å°† táµ¢ ä»å°åˆ°å¤§æ’åºï¼Œè®©ç”¨æ—¶æœ€çŸ­çš„äººæœ€å…ˆæ‰“æ°´ã€‚

**ä¸ºä»€ä¹ˆï¼Ÿ**  
ç¬¬ 1 ä¸ªäººä¸éœ€è¦ç­‰å¾…ï¼ˆç­‰å¾…æ—¶é—´ä¸º 0ï¼‰ï¼Œä½†ä»–çš„æ‰“æ°´æ—¶é—´ä¼šè®©åé¢ n-1 ä¸ªäººæ¯äººç­‰ä»– tâ‚ æ—¶é—´ï¼Œè´¡çŒ®Â `tâ‚ Ã— (n-1)`ã€‚  
ç¬¬ 2 ä¸ªäººç­‰å¾… tâ‚ï¼Œæ‰“æ°´æ—¶é—´ tâ‚‚ï¼Œè´¡çŒ®Â `tâ‚‚ Ã— (n-2)`ã€‚  
ä¾æ­¤ç±»æ¨ï¼Œç¬¬ i ä¸ªäººçš„ç­‰å¾…æ—¶é—´è´¡çŒ®ä¸ºÂ `táµ¢ Ã— (n-i)`ï¼ˆå‡è®¾ä¸‹æ ‡ä» 1 å¼€å§‹ï¼Œä¸” i=1 æ—¶ç­‰å¾…æ—¶é—´ä¸º 0ï¼Œå…¬å¼ä¸­çš„ç³»æ•°åº”ä¸º n-iï¼Ÿæˆ‘ä»¬ä»”ç»†æ¨å¯¼ï¼‰ã€‚

**æ ‡å‡†å…¬å¼**ï¼šè‹¥æ‰“æ°´é¡ºåºä¸ºÂ `pâ‚, pâ‚‚, â€¦, pâ‚™`ï¼Œåˆ™  
æ€»ç­‰å¾…æ—¶é—´ =Â `t_{pâ‚}Ã—(n-1) + t_{pâ‚‚}Ã—(n-2) + â€¦ + t_{p_{n-1}}Ã—1 + t_{pâ‚™}Ã—0`ã€‚  
æ˜¾ç„¶ï¼Œ**è¶Šé å‰çš„äººï¼Œä»–çš„æ—¶é—´è¢«åé¢æ‰€æœ‰äººç­‰å¾…ï¼Œæƒé‡è¶Šå¤§**ã€‚  
ä¸ºäº†æœ€å°åŒ–æ€»å’Œï¼Œåº”è¯¥æŠŠå°çš„ t æ”¾åˆ°å¤§çš„æƒé‡å‰é¢ â€”â€” å³**å‡åºæ’åº**ã€‚

---

## å››ã€æ­£ç¡®æ€§è¯æ˜ â€”â€” ç›¸é‚»äº¤æ¢æ³•ï¼ˆåè¯æ³•ï¼‰

**å®šç†**ï¼šæŒ‰æ‰“æ°´æ—¶é—´å‡åºæ’åˆ—å¾—åˆ°çš„æ€»ç­‰å¾…æ—¶é—´æœ€å°ã€‚

**è¯æ˜**ï¼š  
å‡è®¾æœ€ä¼˜è§£ä¸æ˜¯å‡åºæ’åˆ—ï¼Œåˆ™å¿…ç„¶å­˜åœ¨ç›¸é‚»ä¸¤äººÂ `i`Â å’ŒÂ `i+1`ï¼Œæ»¡è¶³Â `táµ¢ > táµ¢â‚Šâ‚`ã€‚  
æˆ‘ä»¬äº¤æ¢è¿™ä¸¤äººçš„ä½ç½®ï¼Œè€ƒå¯Ÿæ€»ç­‰å¾…æ—¶é—´çš„å˜åŒ–ã€‚

**äº¤æ¢å‰**ï¼Œè¿™ä¸¤äººçš„è´¡çŒ®ä¸ºï¼š  
`táµ¢ Ã— (n-i) + táµ¢â‚Šâ‚ Ã— (n-i-1)`ã€‚  
**äº¤æ¢å**ï¼Œä¸¤äººçš„è´¡çŒ®å˜ä¸ºï¼š  
`táµ¢â‚Šâ‚ Ã— (n-i) + táµ¢ Ã— (n-i-1)`ã€‚  
**å·®å€¼**Â = äº¤æ¢å‰ - äº¤æ¢å  
=Â `[táµ¢Ã—(n-i) + táµ¢â‚Šâ‚Ã—(n-i-1)] - [táµ¢â‚Šâ‚Ã—(n-i) + táµ¢Ã—(n-i-1)]`  
=Â `táµ¢Ã—(n-i - (n-i-1)) + táµ¢â‚Šâ‚Ã—((n-i-1) - (n-i))`  
=Â `táµ¢Ã—1 + táµ¢â‚Šâ‚Ã—(-1)`  
=Â `táµ¢ - táµ¢â‚Šâ‚`Â > 0ã€‚

äº¤æ¢åæ€»ç­‰å¾…æ—¶é—´**ä¸¥æ ¼å‡å°‘**ï¼Œä¸â€œæœ€ä¼˜è§£â€å‡è®¾çŸ›ç›¾ã€‚  
å› æ­¤æœ€ä¼˜è§£å¿…é¡»æ»¡è¶³Â `táµ¢ â‰¤ táµ¢â‚Šâ‚`Â å¯¹æ‰€æœ‰ i æˆç«‹ï¼Œå³å‡åºæ’åˆ—ã€‚

ğŸ”µÂ **è¯æ¯•**ã€‚

---

## äº”ã€ä»£ç å®ç°


```cpp

#include <iostream>
#include <algorithm>
using namespace std;
const int N = 100010;
int t[N];
int main() {
    int n;
    scanf("%d", &n);
    for (int i = 0; i < n; i++) scanf("%d", &t[i]);
    
    sort(t, t + n);          // å‡åºæ’åº
    
    long long res = 0;       // ç»“æœå¯èƒ½å¾ˆå¤§ï¼Œå¿…é¡»ç”¨ long long
    for (int i = 0; i < n; i++) {
        res += t[i] * (n - i - 1);   // æƒé‡ï¼šn-1, n-2, ..., 0
    }
    printf("%lld\n", res);
    
    return 0;
}
```
ğŸ”´Â **æ˜“é”™ç‚¹**ï¼š

- **æ•°æ®ç±»å‹**ï¼š`t[i] â‰¤ 10â´, n â‰¤ 10âµ`ï¼Œ`t[i] * n â‰¤ 10â¹`ï¼Œä½†ç´¯åŠ å¯èƒ½è¶…è¿‡ intï¼Œ**å¿…é¡»ç”¨ long long**ã€‚
    
- **æƒé‡è®¡ç®—**ï¼šä¸‹æ ‡ä» 0 å¼€å§‹ï¼Œç¬¬ i ä¸ªäººçš„æƒé‡æ˜¯Â `n - i - 1`ï¼ˆå› ä¸ºå‰é¢æœ‰ i ä¸ªäººï¼Œåé¢æœ‰ n-i-1 ä¸ªäººä¼šç­‰ä»–ï¼‰ã€‚
    
- **æ’åº**ï¼šç›´æ¥ sort å‡åºå³å¯ã€‚
    

ğŸŸ¢Â **è®°å¿†å£è¯€**ï¼šâ€œ**æ‰“æ°´é—®é¢˜æ’åºè¯€ï¼Œæ—¶é—´çŸ­çš„æ’å‰é¢ï¼›æƒé‡ç³»æ•°é€’å‡ä¹˜ï¼Œé•¿æ•´ä¿å­˜é˜²è¶Šç•Œã€‚**â€

---

# ç¬¬äºŒéƒ¨åˆ† Â· ç»å¯¹å€¼ä¸ç­‰å¼ â€”â€” è´§ä»“é€‰å€

## ä¸€ã€æ•…äº‹å¼•å…¥ï¼šå¿«é€’é©¿ç«™é€‰å€

ä¸€æ¡è¡—é“ä¸Šæœ‰ n å®¶å•†åº—ï¼Œä½ æ‰“ç®—åœ¨è¡—é“ä¸Šé€‰ä¸€ä¸ªä½ç½®å¼€å¿«é€’é©¿ç«™ï¼Œä½¿å¾—é©¿ç«™åˆ°æ‰€æœ‰å•†åº—çš„è·ç¦»ä¹‹å’Œæœ€å°ã€‚  
ä½ åº”è¯¥é€‰åœ¨å“ªé‡Œï¼Ÿ  
ç­”æ¡ˆæ˜¯ï¼š**ä¸­ä½æ•°ä½ç½®**ï¼ˆè‹¥ n ä¸ºå¶æ•°ï¼Œä¸­é—´ä¸¤ä¸ªç‚¹ä¹‹é—´çš„ä»»æ„ä½ç½®å‡å¯ï¼‰ã€‚

**è¿™å°±æ˜¯ç»å¯¹å€¼ä¸ç­‰å¼æœ€ç»å…¸çš„ç»“è®º**ã€‚

---

## äºŒã€é—®é¢˜å®šä¹‰

åœ¨ä¸€æ¡æ•°è½´ä¸Šæœ‰ N ä¸ªç‚¹ï¼Œåæ ‡åˆ†åˆ«ä¸º Aâ‚, Aâ‚‚, â€¦, Aâ‚™ï¼ˆå¯èƒ½æ— åºï¼‰ã€‚  
é€‰æ‹©ä¸€ä¸ªç‚¹ xï¼ˆå¯ä»¥æ˜¯ä»»æ„å®æ•°ï¼‰ï¼Œä½¿å¾—Â `âˆ‘|Aáµ¢ - x|`Â æœ€å°ã€‚  
è¾“å‡ºæœ€å°è·ç¦»å’Œã€‚

**æ•°æ®èŒƒå›´**ï¼šN â‰¤ 10âµï¼Œåæ ‡ â‰¤ 10â¹ï¼Œç»“æœå¯èƒ½è¶…è¿‡ intã€‚

---

## ä¸‰ã€è´ªå¿ƒç­–ç•¥ â€”â€” å–ä¸­ä½æ•°

å°†åæ ‡**ä»å°åˆ°å¤§æ’åº**ã€‚

- è‹¥ N ä¸ºå¥‡æ•°ï¼Œå–æœ€ä¸­é—´çš„é‚£ä¸ªç‚¹ï¼ˆä¸‹æ ‡ä¸ºÂ `N/2`ï¼Œ0-basedï¼‰ã€‚
    
- è‹¥ N ä¸ºå¶æ•°ï¼Œå–ä¸­é—´ä¸¤ä¸ªç‚¹ä¹‹é—´çš„ä»»æ„ä½ç½®ï¼Œé€šå¸¸æˆ‘ä»¬å–Â `A[N/2]`ï¼ˆé å³çš„é‚£ä¸ªï¼‰æˆ–Â `A[N/2-1]`ï¼Œè®¡ç®—ç»“æœç›¸åŒï¼ˆå› ä¸ºè·ç¦»å’Œæ˜¯å¸¸æ•°ï¼‰ã€‚
    

**ä¸ºä»€ä¹ˆä¸­ä½æ•°æœ€ä¼˜ï¼Ÿ**  
æˆ‘ä»¬å¯ä»¥ç”¨**åˆ†ç»„è¯æ˜**ï¼šå°†ç‚¹æŒ‰é¦–å°¾é…å¯¹ (Aâ‚, Aâ‚™), (Aâ‚‚, Aâ‚™â‚‹â‚), â€¦ã€‚  
å¯¹äºæ¯ä¸€å¯¹ (Aáµ¢, Aâ±¼)ï¼Œç”±ç»å¯¹å€¼ä¸ç­‰å¼Â `|Aáµ¢ - x| + |Aâ±¼ - x| â‰¥ |Aâ±¼ - Aáµ¢|`ï¼Œä¸”å½“ x åœ¨ [Aáµ¢, Aâ±¼] ä¹‹é—´æ—¶å–ç­‰ã€‚  
ä¸ºäº†æ‰€æœ‰ä¸ç­‰å¼åŒæ—¶å–ç­‰ï¼Œx å¿…é¡»è½åœ¨æ‰€æœ‰è¿™æ ·çš„åŒºé—´çš„äº¤é›†å†…ã€‚  
æ’åºåï¼Œè¿™äº›åŒºé—´çš„äº¤é›†æ­£æ˜¯**ä¸­ä½æ•°åŒºé—´**ï¼ˆå¥‡æ•°æ—¶æ˜¯ä¸€ä¸ªç‚¹ï¼Œå¶æ•°æ—¶æ˜¯ä¸­é—´ä¸¤ä¸ªç‚¹ä¹‹é—´çš„çº¿æ®µï¼‰ã€‚

å› æ­¤ï¼Œ**ä¸­ä½æ•°æ˜¯æœ€å°åŒ–ç»å¯¹åå·®å’Œçš„ç‚¹**ã€‚

---

## å››ã€ä»£ç å®ç°

```cpp

#include <iostream>
#include <algorithm>
using namespace std;
const int N = 100010;
int a[N];
int main() {
    int n;
    scanf("%d", &n);
    for (int i = 0; i < n; i++) scanf("%d", &a[i]);
    
    sort(a, a + n);
    
    long long res = 0;
    int mid = a[n / 2];          // ä¸­ä½æ•°ï¼ˆnä¸ºå¶æ•°æ—¶å–é å³çš„ä¸­é—´ç‚¹ï¼‰
    for (int i = 0; i < n; i++) {
        res += abs(a[i] - mid);
    }
    printf("%lld\n", res);
    
    return 0;
}
```
ğŸ”´Â **æ˜“é”™ç‚¹**ï¼š

- **ä¸­ä½æ•°ç´¢å¼•**ï¼š0-basedï¼Œn/2 å³å¯ï¼Œæ— éœ€åŒºåˆ†å¥‡å¶ï¼ˆå¶æ•°æ—¶å–é å³çš„ä¸­é—´ç‚¹ï¼Œç»“æœä¸å–é å·¦çš„ä¸­é—´ç‚¹ä¸€è‡´ï¼Œå› ä¸ºè·ç¦»å’Œä¸å˜ï¼‰ã€‚
    
- **æ•°æ®ç±»å‹**ï¼šåæ ‡å¯èƒ½ä¸ºè´Ÿï¼Œä½†è·ç¦»ç”¨ç»å¯¹å€¼ï¼Œç´¯åŠ ç”¨ long long å®‰å…¨ã€‚
    
- **äºŒç»´æ‰©å±•**ï¼šæ›¼å“ˆé¡¿è·ç¦»å¯åˆ†è§£ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„ä¸€ç»´é—®é¢˜ï¼Œåˆ†åˆ«æ±‚ä¸­ä½æ•°ï¼›æ¬§å‡ é‡Œå¾—è·ç¦»ï¼ˆè´¹é©¬ç‚¹ï¼‰åˆ™éœ€è¦æ¨¡æ‹Ÿé€€ç«æˆ–éšæœºç®—æ³•ï¼Œç«èµ›ä¸­ä¸å¸¸è§ã€‚
    

ğŸŸ¢Â **è®°å¿†å£è¯€**ï¼šâ€œ**è´§ä»“é€‰å€ä¸­ä½æ•°ï¼Œå¥‡æ•°å¶ç‚¹çš†å¯é¡¾ï¼›é¦–å°¾é…å¯¹ç»å¯¹å€¼ï¼Œä¸­ç‚¹åŒºé—´æœ€æ»¡è¶³ã€‚**â€

---

# ç¬¬ä¸‰éƒ¨åˆ† Â· æ¨å…¬å¼ â€”â€” è€æ‚æŠ€çš„ç‰›

## ä¸€ã€æ•…äº‹å¼•å…¥ï¼šå ç½—æ±‰

é©¬æˆå›¢æœ‰ N å¤´ç‰›ï¼Œæ¯å¤´ç‰›æœ‰é‡é‡ Wáµ¢ å’Œå¼ºå£®åº¦ Sáµ¢ã€‚  
å®ƒä»¬è¦å ç½—æ±‰â€”â€”ä¸€å¤´ç«™åœ¨å¦ä¸€å¤´èƒŒä¸Šï¼Œæ¯å¤´ç‰›çš„é£é™©å®šä¹‰ä¸ºå®ƒ**ä¸Šé¢æ‰€æœ‰ç‰›çš„é‡é‡ä¹‹å’Œ**å‡å»**å®ƒè‡ªå·±çš„å¼ºå£®åº¦**ï¼ˆå¯ä»¥ä¸ºè´Ÿï¼Œè´Ÿå€¼æ„å‘³ç€ç»å¯¹å®‰å…¨ï¼‰ã€‚  
é—®å¦‚ä½•æ’åˆ—ç‰›çš„é¡ºåºï¼Œä½¿å¾—**æ‰€æœ‰ç‰›çš„é£é™©å€¼ä¸­çš„æœ€å¤§å€¼**æœ€å°åŒ–ã€‚

**è¿™å°±æ˜¯è€æ‚æŠ€çš„ç‰›é—®é¢˜**ï¼Œä¹Ÿæ˜¯**å›½ç‹æ¸¸æˆ**çš„åŠ å‡æ³•ç‰ˆæœ¬ã€‚

---

## äºŒã€é—®é¢˜å®šä¹‰

N å¤´ç‰›ï¼Œç¬¬ i å¤´ç‰›é‡é‡ Wáµ¢ï¼Œå¼ºå£®åº¦ Sáµ¢ã€‚  
å¯¹äºä¸€ç§æ’åˆ—ï¼Œå®šä¹‰ç¬¬ i å¤´ç‰›ï¼ˆä»ä¸Šå¾€ä¸‹æ•°ï¼‰çš„é£é™©å€¼ï¼š  
`riskáµ¢ = sum(Wâ‚ + Wâ‚‚ + â€¦ + Wáµ¢â‚‹â‚) - Sáµ¢`ï¼ˆå®ƒä¸Šé¢çš„ç‰›æ€»é‡ - è‡ªå·±çš„å¼ºå£®åº¦ï¼‰ã€‚  
ç›®æ ‡æ˜¯**æœ€å°åŒ–æ‰€æœ‰ç‰›ä¸­ risk çš„æœ€å¤§å€¼**ã€‚

**æ•°æ®èŒƒå›´**ï¼šN â‰¤ 50000ï¼ŒWáµ¢ â‰¤ 10000ï¼ŒSáµ¢ â‰¤ 1e9ã€‚

---

## ä¸‰ã€è´ªå¿ƒç­–ç•¥ â€”â€” æŒ‰ Wáµ¢ + Sáµ¢ å‡åºæ’åº

**ç»“è®º**ï¼šå°†ç‰›æŒ‰Â `(Wáµ¢ + Sáµ¢)`Â ä»å°åˆ°å¤§æ’åºï¼Œå¾—åˆ°çš„æ’åˆ—èƒ½ä½¿æœ€å¤§é£é™©æœ€å°ã€‚

**ç›´è§‰**ï¼šä¸€å¤´ç‰›æ—¢è¦èƒ½æ‰¿å—ä¸Šé¢çš„é‡é‡ï¼ˆå¼ºå£®åº¦å¤§ï¼‰ï¼Œåˆæœ€å¥½ä¸è¦è®©è‡ªå·±å¤ªé‡ï¼ˆå¦åˆ™ä¼šå¢åŠ ä¸‹é¢ç‰›çš„é£é™©ï¼‰ã€‚  
ç»¼åˆæŒ‡æ ‡å°±æ˜¯Â `Wáµ¢ + Sáµ¢`â€”â€”æŠŠå®ƒçœ‹æˆâ€œæ‰¿é‡èƒ½åŠ›â€ä¸â€œè´Ÿæ‹…â€çš„æ€»å’Œï¼Œå°çš„ä¼˜å…ˆæ”¾åœ¨ä¸Šé¢ã€‚

---

## å››ã€æ­£ç¡®æ€§è¯æ˜ â€”â€” è°ƒæ•´æ³•ï¼ˆäº¤æ¢ç›¸é‚»ç‰›ï¼‰

**è¯æ˜**ï¼šå‡è®¾æœ€ä¼˜è§£ä¸­å­˜åœ¨ç›¸é‚»ä¸¤å¤´ç‰› i å’Œ i+1ï¼Œæ»¡è¶³Â `Wáµ¢ + Sáµ¢ > Wáµ¢â‚Šâ‚ + Sáµ¢â‚Šâ‚`ã€‚  
æˆ‘ä»¬äº¤æ¢å®ƒä»¬çš„ä½ç½®ï¼Œè¯æ˜äº¤æ¢å**ä¸ä¼šä½¿æœ€å¤§é£é™©å¢åŠ **ï¼Œä»è€Œå¯ä»¥é€æ­¥è°ƒæ•´ä¸ºæŒ‰ W+S å‡åºæ’åˆ—ä¸”ä¸åŠ£äºåŸè§£ã€‚

**è®°**ï¼šäº¤æ¢å‰ï¼Œi å’Œ i+1 çš„ä¸Šæ–¹æ€»é‡ä¸ºÂ `sum`ï¼ˆå®ƒä»¬ä¹‹å‰çš„ç‰›çš„æ€»é‡é‡ï¼‰ã€‚  
äº¤æ¢å‰ï¼š

- ç‰› i çš„é£é™©ï¼š`sum - Sáµ¢`
    
- ç‰› i+1 çš„é£é™©ï¼š`sum + Wáµ¢ - Sáµ¢â‚Šâ‚`
    

äº¤æ¢åï¼š

- ç‰› i+1ï¼ˆç°åœ¨åœ¨ä¸Šï¼‰çš„é£é™©ï¼š`sum - Sáµ¢â‚Šâ‚`
    
- ç‰› iï¼ˆç°åœ¨åœ¨ä¸‹ï¼‰çš„é£é™©ï¼š`sum + Wáµ¢â‚Šâ‚ - Sáµ¢`
    

æˆ‘ä»¬åªéœ€è¯æ˜äº¤æ¢å**è¿™ä¸¤ä¸ªä½ç½®çš„æœ€å¤§é£é™©ä¸ä¼šå¤§äºäº¤æ¢å‰çš„æœ€å¤§é£é™©**ã€‚

**æ¯”è¾ƒ**ï¼š

1. äº¤æ¢å‰çš„ä¸¤ä¸ªé£é™©ï¼š`A = sum - Sáµ¢`,Â `B = sum + Wáµ¢ - Sáµ¢â‚Šâ‚`ã€‚
    
2. äº¤æ¢åçš„ä¸¤ä¸ªé£é™©ï¼š`C = sum - Sáµ¢â‚Šâ‚`,Â `D = sum + Wáµ¢â‚Šâ‚ - Sáµ¢`ã€‚
    

ç”±æ¡ä»¶Â `Wáµ¢ + Sáµ¢ > Wáµ¢â‚Šâ‚ + Sáµ¢â‚Šâ‚`Â å¯å¾—ï¼š  
`Wáµ¢ - Sáµ¢â‚Šâ‚ > Wáµ¢â‚Šâ‚ - Sáµ¢`ã€‚  
å› æ­¤Â `B = sum + (Wáµ¢ - Sáµ¢â‚Šâ‚)`ï¼Œ`D = sum + (Wáµ¢â‚Šâ‚ - Sáµ¢)`ï¼Œæ˜¾ç„¶Â `B > D`ã€‚  
åŒæ—¶Â `C = sum - Sáµ¢â‚Šâ‚`ï¼Œ`A = sum - Sáµ¢`ï¼Œç”±Â `Sáµ¢ > Sáµ¢â‚Šâ‚`ï¼Ÿä¸ä¸€å®šï¼Œä½†æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒï¼š

- æ¯”è¾ƒÂ `A`Â å’ŒÂ `C`ï¼š`A - C = (sum - Sáµ¢) - (sum - Sáµ¢â‚Šâ‚) = Sáµ¢â‚Šâ‚ - Sáµ¢`ï¼Œå¯èƒ½æ­£å¯èƒ½è´Ÿã€‚
    
- æ¯”è¾ƒÂ `A`Â å’ŒÂ `D`ï¼š`D = sum + Wáµ¢â‚Šâ‚ - Sáµ¢`ï¼Œæ˜¾ç„¶Â `D > A`ï¼ˆå› ä¸º Wáµ¢â‚Šâ‚ > 0ï¼‰ã€‚
    
- æ¯”è¾ƒÂ `B`Â å’ŒÂ `C`ï¼š`B - C = (sum + Wáµ¢ - Sáµ¢â‚Šâ‚) - (sum - Sáµ¢â‚Šâ‚) = Wáµ¢ > 0`ï¼Œæ‰€ä»¥Â `B > C`ã€‚
    

ç»¼ä¸Šï¼Œ**äº¤æ¢å‰æœ€å¤§é£é™©æ˜¯ max(A, B)**ï¼Œ**äº¤æ¢åæœ€å¤§é£é™©æ˜¯ max(C, D)**ã€‚  
ç”±äºÂ `D < B`Â ä¸”Â `C`Â ä¸Â `A`Â çš„å…³ç³»ä¸ç¡®å®šï¼Œä½†æˆ‘ä»¬å¯ä»¥æ–­è¨€Â `max(C, D) â‰¤ max(A, B)`ï¼Ÿä¸ä¸€å®šï¼Œéœ€è¦æ›´ç²¾ç»†åˆ†æã€‚

**ç»å…¸è¯æ˜**ï¼ˆæ¥è‡ªAcWingï¼‰ï¼šæˆ‘ä»¬åªéœ€è¯æ˜äº¤æ¢å**ä¸¤ä¸ªä½ç½®çš„è¾ƒå¤§å€¼ä¸ä¼šè¶…è¿‡äº¤æ¢å‰çš„è¾ƒå¤§å€¼**ã€‚  
è®¡ç®—äº¤æ¢åä¸¤ä¸ªå€¼çš„æœ€å¤§å€¼å‡å»äº¤æ¢å‰ä¸¤ä¸ªå€¼çš„æœ€å¤§å€¼ï¼Œé€šè¿‡åˆ†ç±»è®¨è®ºå¯å¾—è¯¥å·®å€¼ â‰¤ 0ã€‚  
æˆ–è€…æ›´ç®€å•åœ°ï¼Œæˆ‘ä»¬ç›´æ¥è¯æ˜**ä»»ä½•ç›¸é‚»é€†åºäº¤æ¢éƒ½ä¸ä¼šä½¿æœ€ä¼˜è§£å˜å·®**ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—äº¤æ¢å¾—åˆ° W+S å‡åºçš„æ’åˆ—ï¼Œä¸”æœ€å¤§é£é™©å€¼ä¸ä¼šå¢å¤§ã€‚  
å› æ­¤ï¼Œ**æŒ‰ W+S å‡åºæ’åˆ—æ˜¯æœ€ä¼˜çš„**ã€‚

ï¼ˆä¸¥è°¨è¯æ˜è¾ƒå¤æ‚ï¼Œç«èµ›ä¸­è®°ä½ç»“è®ºå³å¯ï¼‰

---

## äº”ã€ä»£ç å®ç°

```cpp

#include <iostream>
#include <algorithm>
using namespace std;
const int N = 50010;
typedef long long LL;
struct Cow {
    int w, s;
    bool operator< (const Cow &c) const {
        return w + s < c.w + c.s;   // æŒ‰ w+s å‡åºæ’åº
    }
} cow[N];
int main() {
    int n;
    scanf("%d", &n);
    for (int i = 0; i < n; i++) scanf("%d%d", &cow[i].w, &cow[i].s);
    
    sort(cow, cow + n);
    
    LL res = -2e9, sum = 0;         // åˆå§‹é£é™©è®¾æå°å€¼ï¼Œsum ä¸ºä¸Šæ–¹æ€»é‡é‡
    for (int i = 0; i < n; i++) {
        res = max(res, sum - cow[i].s);
        sum += cow[i].w;
    }
    
    printf("%lld\n", res);
    return 0;
}
```
ğŸ”´Â **æ˜“é”™ç‚¹**ï¼š

- **æ•°æ®ç±»å‹**ï¼š`sum`Â å¯èƒ½è¾¾åˆ°Â `5e4 * 1e4 = 5e8`ï¼ŒåŠ ä¸ŠÂ `Sáµ¢ â‰¤ 1e9`ï¼Œç»“æœå¯èƒ½ä¸ºè´Ÿï¼Œä½†æœ€å¤§å€¼ç”¨Â `LL`Â å³å¯ã€‚`res`Â åˆå§‹åŒ–ä¸ºÂ `-2e9`Â è¶³å¤Ÿå°ã€‚
    
- **æ’åºå…³é”®å­—**ï¼šä¸€å®šæ˜¯Â `w + s`ï¼Œä¸æ˜¯Â `w`Â æˆ–Â `s`Â å•ç‹¬ã€‚
    
- **é£é™©å…¬å¼**ï¼š`sum - s[i]`ï¼Œä¸æ˜¯Â `sum - s[i] + w[i]`Â ä¹‹ç±»çš„ï¼ˆé‚£æ˜¯åŒ…å«è‡ªå·±çš„é‡é‡ï¼Ÿé¢˜ç›®å®šä¹‰æ˜¯ä¸Šæ–¹é‡é‡å’Œå‡è‡ªèº«å¼ºå£®åº¦ï¼Œä¸åŒ…å«è‡ªå·±ï¼‰ã€‚
    

ğŸŸ¢Â **è®°å¿†å£è¯€**ï¼šâ€œ**è€æ‚æŠ€çš„ç‰›æ’åºï¼Œw+s å‡åºèµ°ï¼›ä¸Šæ–¹æ€»é‡å‡å¼ºå£®ï¼Œæœ€å¤§é£é™©æœ€å°æ±‚ã€‚**â€

---

# ç¬¬å››éƒ¨åˆ† Â· è´ªå¿ƒç®—æ³•æ–¹æ³•è®ºæ€»ç»“

## ä¸€ã€æœ¬ç« ä¸‰å¤§æ¨¡å‹å¯¹æ¯”

|æ¨¡å‹|å…¸å‹é—®é¢˜|æ’åºä¾æ®|æ ¸å¿ƒä¸ç­‰å¼|è¯æ˜æ–¹æ³•|
|---|---|---|---|---|
|**æ’åºä¸ç­‰å¼**|æ’é˜Ÿæ‰“æ°´|táµ¢ å‡åº|æ­£åºå’Œ â‰¥ ä¹±åºå’Œ|ç›¸é‚»äº¤æ¢æ³•|
|**ç»å¯¹å€¼ä¸ç­‰å¼**|è´§ä»“é€‰å€|åæ ‡å‡åº|\|x-a\|+\|x-b\|â‰¥\|a-b\||é…å¯¹åˆ†ç»„|
|**æ¨å…¬å¼**|è€æ‚æŠ€çš„ç‰›|w+s å‡åº|é£é™©å€¼æ¯”è¾ƒ|è°ƒæ•´æ³•|

## äºŒã€è´ªå¿ƒè¯æ˜çš„å¸¸è§å¥—è·¯

1. **åè¯æ³•**ï¼šå‡è®¾æœ€ä¼˜è§£ä¸æ»¡è¶³è´ªå¿ƒæ€§è´¨ï¼Œæ„é€ ä¸€ä¸ªæ›´ä¼˜çš„è§£ï¼ŒçŸ›ç›¾ã€‚
    
2. **äº¤æ¢è®ºè¯ï¼ˆç›¸é‚»äº¤æ¢æ³•ï¼‰**ï¼šè¯æ˜ä»»ä½•ç›¸é‚»çš„é€†åºéƒ½å¯ä»¥é€šè¿‡äº¤æ¢ä¸ä½¿ç»“æœå˜å·®ï¼Œä»è€Œè´ªå¿ƒæ’åºæœ€ä¼˜ã€‚
    
3. **æ•°å­¦å½’çº³æ³•**ï¼šå¯¹é—®é¢˜è§„æ¨¡ n å½’çº³ï¼Œå‡è®¾ n-1 æ—¶è´ªå¿ƒæˆç«‹ï¼Œè¯æ˜ n æ—¶ä¹Ÿæˆç«‹ã€‚
    

---

# ç¬¬äº”éƒ¨åˆ† Â· æ‹“å±•æ€è€ƒ

## ä¸€ã€äºŒç»´è´§ä»“é€‰å€

è‹¥å•†åº—åˆ†å¸ƒåœ¨äºŒç»´å¹³é¢ä¸Šï¼Œæ±‚åˆ°æ‰€æœ‰ç‚¹**æ›¼å“ˆé¡¿è·ç¦»**ä¹‹å’Œæœ€å°çš„ç‚¹ï¼Œå¯ä»¥**åˆ†è§£**ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„ä¸€ç»´é—®é¢˜ï¼š  
x åæ ‡å–ä¸­ä½æ•°ï¼Œy åæ ‡å–ä¸­ä½æ•°ï¼Œåˆ†åˆ«æ±‚è·ç¦»å’Œç›¸åŠ ã€‚  
**æ³¨æ„**ï¼šæ›¼å“ˆé¡¿è·ç¦»çš„ç­‰é«˜çº¿æ˜¯è±å½¢ï¼Œä¸­ä½æ•°ç‚¹ä»åœ¨å®šä¹‰åŸŸå†…ã€‚

è‹¥æ±‚**æ¬§å‡ é‡Œå¾—è·ç¦»**ï¼ˆç›´çº¿è·ç¦»ï¼‰ä¹‹å’Œæœ€å°ï¼Œåˆ™æ˜¯**è´¹é©¬ç‚¹**é—®é¢˜ï¼Œæ²¡æœ‰é—­å¼è§£ï¼Œå¸¸ç”¨**æ¨¡æ‹Ÿé€€ç«**æˆ–**éšæœºçˆ¬å±±**ç®—æ³•è¿‘ä¼¼æ±‚è§£ï¼Œç«èµ›ä¸­æå°‘å‡ºç°ã€‚

## äºŒã€å›½ç‹æ¸¸æˆï¼ˆä¹˜é™¤æ³•ç‰ˆæœ¬ï¼‰

æœ¬é¢˜çš„å˜ä½“ï¼š**å›½ç‹æ¸¸æˆ**ï¼ˆAcWing 114ï¼‰ã€‚  
N ä¸ªå¤§è‡£ï¼Œæ¯äººå·¦æ‰‹ aáµ¢ï¼Œå³æ‰‹ báµ¢ï¼Œå›½ç‹åœ¨é˜Ÿé¦–ï¼Œæ¯ä¸ªäººè·å¾—çš„é‡‘å¸ = å‰é¢æ‰€æœ‰äººå·¦æ‰‹æ•°å­—ä¹˜ç§¯ / è‡ªå·±å³æ‰‹æ•°å­—ï¼ˆå‘ä¸‹å–æ•´ï¼‰ã€‚  
æ±‚ä½¿å¾—**è·å¾—é‡‘å¸æœ€å¤§å€¼æœ€å°**çš„æ’åºç­–ç•¥ã€‚  
ç»“è®ºï¼šæŒ‰Â `aáµ¢ Ã— báµ¢`Â å‡åºæ’åºã€‚  
è¯æ˜æ–¹æ³•ä¸æœ¬é¢˜ç±»ä¼¼ï¼Œåªæ˜¯è¿ç®—ä»åŠ æ³•å˜ä¸ºä¹˜æ³•ã€‚

---

# ğŸ“Š æœ¬ç« çŸ¥è¯†å°ç»“ â€”â€” è€ƒè¯•å‰å¤œå¿…çœ‹

|é—®é¢˜|è´ªå¿ƒç­–ç•¥|å…³é”®ç‚¹|å¤æ‚åº¦|æ˜“é”™ç‚¹|
|---|---|---|---|---|
|**æ‰“æ°´é—®é¢˜**|æŒ‰æ‰“æ°´æ—¶é—´å‡åº|æƒé‡ç³»æ•° (n-i-1)|O(n log n)|ç”¨ long long|
|**è´§ä»“é€‰å€**|å–ä¸­ä½æ•°|æ’åºåå– a[n/2]|O(n log n)|åæ ‡å¯èƒ½ä¸ºè´Ÿ|
|**è€æ‚æŠ€çš„ç‰›**|æŒ‰ w+s å‡åº|sum - s æœ€å¤§å€¼|O(n log n)|æ’åºå…³é”®å­—ï¼Œres åˆå€¼|

---

# ğŸ“ å†™åœ¨æœ€åï¼šè´ªå¿ƒ = æ’åº + è¯æ˜ + ç»†èŠ‚

æœ¬ç« çš„ä¸‰ä¸ªé¢˜ç›®ï¼Œ**ä»£ç éƒ½å¾ˆçŸ­ï¼Œä½†æ€è€ƒå¾ˆé•¿**ã€‚  
**æ‰“æ°´é—®é¢˜**æ•™ä¼šæˆ‘ä»¬**æ’åºä¸ç­‰å¼**ï¼Œ**è´§ä»“é€‰å€**æ•™ä¼šæˆ‘ä»¬**ç»å¯¹å€¼ä¸ç­‰å¼**ï¼Œ**è€æ‚æŠ€çš„ç‰›**æ•™ä¼šæˆ‘ä»¬**æ¨å…¬å¼**ã€‚  
è¿™ä¸‰è€…æ˜¯è´ªå¿ƒç®—æ³•ä¸­â€œæ•°å­¦å‘³é“â€æœ€æµ“çš„éƒ¨åˆ†ã€‚

**ç»™ä½ çš„ç¡¬æ ¸å»ºè®®**ï¼š

1. **æ‰“æ°´é—®é¢˜**ï¼šæ‰‹åŠ¨æ¨¡æ‹Ÿ n=3 æ—¶ä¸åŒæ’åºçš„æ€»ç­‰å¾…æ—¶é—´ï¼ŒéªŒè¯å…¬å¼ã€‚
    
2. **è´§ä»“é€‰å€**ï¼šç”¨å¶æ•°ä¸ªç‚¹ï¼ˆå¦‚ [1,2,3,100]ï¼‰æµ‹è¯•ä¸­ä½æ•°æ˜¯å¦æœ€ä¼˜ã€‚
    
3. **è€æ‚æŠ€çš„ç‰›**ï¼šè‡ªå·±æ„é€ ä¸¤ç»„æ•°æ®ï¼ŒéªŒè¯ w+s æ’åºæ˜¯å¦çœŸçš„æ¯”æŒ‰ w æˆ– s å•ç‹¬æ’åºæ›´ä¼˜ã€‚
    
4. **å°è¯•ç‹¬ç«‹è¯æ˜**ï¼šä¸çœ‹ç¬”è®°ï¼Œè‡ªå·±ç”¨äº¤æ¢æ³•è¯æ˜æ‰“æ°´é—®é¢˜å’Œè€æ‚æŠ€çš„ç‰›é—®é¢˜ã€‚
    

**è´ªå¿ƒç®—æ³•æ²¡æœ‰å›ºå®šæ¨¡æ¿ï¼Œåªæœ‰æ¨¡å‹åŒ¹é…ã€‚**  
å½“ä½ çœ‹åˆ°â€œæ’é˜Ÿâ€ã€â€œç­‰å¾…æ—¶é—´â€ â†’ æ’åºä¸ç­‰å¼ã€‚  
å½“ä½ çœ‹åˆ°â€œè·ç¦»å’Œæœ€å°â€ â†’ ç»å¯¹å€¼ä¸ç­‰å¼ â†’ ä¸­ä½æ•°ã€‚  
å½“ä½ çœ‹åˆ°â€œæ’åºä½¿æœ€å¤§å€¼æœ€å°â€ â†’ æ¨å…¬å¼ â†’ æ‰¾æ’åºå…³é”®å­—ã€‚